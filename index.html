<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AQL大会情報</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
            padding-bottom: 80px;
        }

        .header {
            background: linear-gradient(135deg, #2563eb, #3b82f6);
            color: white;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 24px;
            margin-bottom: 15px;
            font-weight: 700;
        }

        .selectors {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .selector {
            flex: 1;
            min-width: 120px;
            max-width: 200px;
        }

        .selector select {
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            background: white;
            color: #333;
            cursor: pointer;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .content {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .section {
            display: none;
            background: white;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 2px 15px rgba(0,0,0,0.08);
        }

        .section.active {
            display: block;
        }

        .section h2 {
            color: #2563eb;
            margin-bottom: 20px;
            font-size: 22px;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 10px;
        }

        .home-info {
            margin-bottom: 25px;
        }

        .home-info h3 {
            color: #1f2937;
            margin-bottom: 10px;
            font-size: 18px;
        }

        .home-info p {
            margin-bottom: 15px;
            font-size: 16px;
        }

        .schedule-grid {
            display: grid;
            gap: 15px;
        }

        .schedule-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: #f1f5f9;
            border-radius: 8px;
            border-left: 4px solid #2563eb;
        }

        .schedule-item strong {
            color: #1f2937;
            font-size: 16px;
        }

        .schedule-item span {
            color: #2563eb;
            font-weight: 600;
            font-size: 16px;
        }

        .rules-grid {
            display: grid;
            gap: 20px;
        }

        .rule-item {
            background: #f8fafc;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
        }

        .rule-item h4 {
            color: #1e40af;
            margin-bottom: 8px;
            font-size: 16px;
        }

        .rule-item p {
            color: #475569;
            font-size: 15px;
        }

        .manners-list {
            display: grid;
            gap: 15px;
        }

        .manner-item {
            background: #fef3c7;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #f59e0b;
        }

        .manner-item h4 {
            color: #92400e;
            margin-bottom: 8px;
            font-size: 16px;
        }

        .manner-item p {
            color: #78350f;
            font-size: 15px;
        }

        .faq-list {
            display: grid;
            gap: 15px;
        }

        .faq-item {
            background: #f0f9ff;
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid #e0f2fe;
        }

        .faq-question {
            background: #0ea5e9;
            color: white;
            padding: 15px;
            font-weight: 600;
            font-size: 16px;
        }

        .faq-answer {
            padding: 15px;
            background: white;
            color: #1f2937;
            font-size: 15px;
        }

        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: white;
            border-top: 1px solid #e5e7eb;
            padding: 10px 0;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
        }

        .nav-buttons {
            display: flex;
            justify-content: space-around;
            max-width: 800px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .nav-btn {
            background: none;
            border: none;
            padding: 8px 4px;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.2s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            min-width: 60px;
            color: #6b7280;
        }

        .nav-btn.active {
            background: #eff6ff;
            color: #2563eb;
        }

        .nav-btn:hover {
            background: #f3f4f6;
        }

        .nav-btn.active:hover {
            background: #dbeafe;
        }

        .nav-icon {
            width: 20px;
            height: 20px;
            margin-bottom: 2px;
        }

        .nav-text {
            font-size: 12px;
            font-weight: 500;
        }

        .error-message {
            text-align: center;
            color: #ef4444;
            padding: 40px;
            font-size: 16px;
            background: #fef2f2;
            border-radius: 8px;
            margin: 20px;
        }

        @media (max-width: 640px) {
            .header {
                padding: 15px;
            }
            
            .header h1 {
                font-size: 20px;
            }
            
            .selectors {
                flex-direction: column;
                gap: 8px;
            }
            
            .selector {
                max-width: none;
            }
            
            .content {
                padding: 15px;
            }
            
            .section {
                padding: 20px;
            }
            
            .nav-buttons {
                padding: 0 10px;
            }
            
            .nav-btn {
                min-width: 50px;
                padding: 8px 2px;
            }
            
            .nav-text {
                font-size: 11px;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>AQL大会情報</h1>
        <div class="selectors">
            <div class="selector">
                <select id="regionSelect">
                    <option value="">地域を選択</option>
                </select>
            </div>
            <div class="selector">
                <select id="divisionSelect">
                    <option value="">部門を選択</option>
                </select>
            </div>
            <div class="selector">
                <select id="leagueSelect">
                    <option value="">リーグを選択</option>
                </select>
            </div>
        </div>
    </div>

    <div class="content">
        <div id="errorMessage" class="error-message" style="display: none;">
            地域・部門・リーグを選択してください
        </div>

        <div id="homeSection" class="section active">
            <h2>大会情報</h2>
            <div class="home-info">
                <h3 id="tournamentName">大会名</h3>
                <p><strong>開催日：</strong><span id="tournamentDate">-</span></p>
                <p><strong>会場：</strong><span id="tournamentLocation">-</span></p>
                <p><strong>趣旨：</strong><span id="tournamentDescription">-</span></p>
                <p><strong>使い方：</strong><span id="tournamentUsage">-</span></p>
            </div>
        </div>

        <div id="scheduleSection" class="section">
            <h2>タイムスケジュール</h2>
            <div id="scheduleContent" class="schedule-grid">
            </div>
        </div>

        <div id="rulesSection" class="section">
            <h2>ルール</h2>
            <div id="rulesContent" class="rules-grid">
            </div>
        </div>

        <div id="mannersSection" class="section">
            <h2>マナー・注意事項</h2>
            <div id="mannersContent" class="manners-list">
            </div>
        </div>

        <div id="faqSection" class="section">
            <h2>よくある質問</h2>
            <div id="faqContent" class="faq-list">
            </div>
        </div>
    </div>

    <div class="bottom-nav">
        <div class="nav-buttons">
            <button class="nav-btn active" data-section="homeSection">
                <svg class="nav-icon" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"/>
                </svg>
                <span class="nav-text">ホーム</span>
            </button>
            <button class="nav-btn" data-section="scheduleSection">
                <svg class="nav-icon" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd"/>
                </svg>
                <span class="nav-text">スケジュール</span>
            </button>
            <button class="nav-btn" data-section="rulesSection">
                <svg class="nav-icon" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"/>
                </svg>
                <span class="nav-text">ルール</span>
            </button>
            <button class="nav-btn" data-section="mannersSection">
                <svg class="nav-icon" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd"/>
                </svg>
                <span class="nav-text">マナー</span>
            </button>
            <button class="nav-btn" data-section="faqSection">
                <svg class="nav-icon" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>
                </svg>
                <span class="nav-text">FAQ</span>
            </button>
        </div>
    </div>

    <script src="data.js"></script>
    <script>
        class TournamentApp {
            constructor() {
                this.currentData = null;
                this.initializeElements();
                this.initializeEventListeners();
                this.loadInitialData();
            }

            initializeElements() {
                this.regionSelect = document.getElementById('regionSelect');
                this.divisionSelect = document.getElementById('divisionSelect');
                this.leagueSelect = document.getElementById('leagueSelect');
                this.errorMessage = document.getElementById('errorMessage');
                this.sections = document.querySelectorAll('.section');
                this.navButtons = document.querySelectorAll('.nav-btn');
            }

            initializeEventListeners() {
                this.regionSelect.addEventListener('change', () => this.onRegionChange());
                this.divisionSelect.addEventListener('change', () => this.onDivisionChange());
                this.leagueSelect.addEventListener('change', () => this.onLeagueChange());
                
                this.navButtons.forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const sectionId = btn.dataset.section;
                        this.showSection(sectionId);
                    });
                });
            }

            loadInitialData() {
                this.populateRegions();
            }

            populateRegions() {
                this.regionSelect.innerHTML = '<option value="">地域を選択</option>';
                Object.keys(tournamentData).forEach(region => {
                    const option = document.createElement('option');
                    option.value = region;
                    option.textContent = region;
                    this.regionSelect.appendChild(option);
                });
            }

            onRegionChange() {
                const region = this.regionSelect.value;
                this.divisionSelect.innerHTML = '<option value="">部門を選択</option>';
                this.leagueSelect.innerHTML = '<option value="">リーグを選択</option>';
                
                if (region && tournamentData[region]) {
                    Object.keys(tournamentData[region]).forEach(division => {
                        const option = document.createElement('option');
                        option.value = division;
                        option.textContent = division;
                        this.divisionSelect.appendChild(option);
                    });
                }
                this.updateDisplay();
            }

            onDivisionChange() {
                const region = this.regionSelect.value;
                const division = this.divisionSelect.value;
                this.leagueSelect.innerHTML = '<option value="">リーグを選択</option>';
                
                if (region && division && tournamentData[region] && tournamentData[region][division]) {
                    Object.keys(tournamentData[region][division]).forEach(league => {
                        const option = document.createElement('option');
                        option.value = league;
                        option.textContent = league;
                        this.leagueSelect.appendChild(option);
                    });
                }
                this.updateDisplay();
            }

            onLeagueChange() {
                this.updateDisplay();
            }

            updateDisplay() {
                const region = this.regionSelect.value;
                const division = this.divisionSelect.value;
                const league = this.leagueSelect.value;

                if (region && division && league && 
                    tournamentData[region] && 
                    tournamentData[region][division] && 
                    tournamentData[region][division][league]) {
                    
                    this.currentData = tournamentData[region][division][league];
                    this.errorMessage.style.display = 'none';
                    this.renderContent();
                } else {
                    this.currentData = null;
                    this.errorMessage.style.display = 'block';
                    this.clearContent();
                }
            }

            renderContent() {
                if (!this.currentData) return;

                this.renderHome();
                this.renderSchedule();
                this.renderRules();
                this.renderManners();
                this.renderFAQ();
            }

            renderHome() {
                const home = this.currentData.home;
                document.getElementById('tournamentName').textContent = home.name;
                document.getElementById('tournamentDate').textContent = home.date;
                document.getElementById('tournamentLocation').textContent = home.location;
                document.getElementById('tournamentDescription').textContent = home.description;
                document.getElementById('tournamentUsage').textContent = home.usage;
            }

            renderSchedule() {
                const schedule = this.currentData.schedule;
                const container = document.getElementById('scheduleContent');
                container.innerHTML = '';

                Object.entries(schedule).forEach(([key, value]) => {
                    const item = document.createElement('div');
                    item.className = 'schedule-item';
                    item.innerHTML = `
                        <strong>${key}</strong>
                        <span>${value}</span>
                    `;
                    container.appendChild(item);
                });
            }

            renderRules() {
                const rules = this.currentData.rules;
                const container = document.getElementById('rulesContent');
                container.innerHTML = '';

                const ruleLabels = {
                    structure: '大会構成',
                    pointSystem: 'ポイント制',
                    tieBreak: '同点決勝',
                    format: '出題形式',
                    penalty: 'ペナルティ'
                };

                Object.entries(rules).forEach(([key, value]) => {
                    const item = document.createElement('div');
                    item.className = 'rule-item';
                    item.innerHTML = `
                        <h4>${ruleLabels[key] || key}</h4>
                        <p>${value}</p>
                    `;
                    container.appendChild(item);
                });
            }

            renderManners() {
                const manners = this.currentData.manners;
                const container = document.getElementById('mannersContent');
                container.innerHTML = '';

                const mannerLabels = {
                    eating: '飲食について',
                    viewing: '観戦について',
                    judgment: '判定について',
                    challenge: 'チャレンジについて'
                };

                Object.entries(manners).forEach(([key, value]) => {
                    const item = document.createElement('div');
                    item.className = 'manner-item';
                    item.innerHTML = `
                        <h4>${mannerLabels[key] || key}</h4>
                        <p>${value}</p>
                    `;
                    container.appendChild(item);
                });
            }

            renderFAQ() {
                const faq = this.currentData.faq;
                const container = document.getElementById('faqContent');
                container.innerHTML = '';

                faq.forEach(item => {
                    const faqElement = document.createElement('div');
                    faqElement.className = 'faq-item';
                    faqElement.innerHTML = `
                        <div class="faq-question">${item.q}</div>
                        <div class="faq-answer">${item.a}</div>
                    `;
                    container.appendChild(faqElement);
                });
            }

            clearContent() {
                document.getElementById('tournamentName').textContent = '大会名';
                document.getElementById('tournamentDate').textContent = '-';
                document.getElementById('tournamentLocation').textContent = '-';
                document.getElementById('tournamentDescription').textContent = '-';
                document.getElementById('tournamentUsage').textContent = '-';
                document.getElementById('scheduleContent').innerHTML = '';
                document.getElementById('rulesContent').innerHTML = '';
                document.getElementById('mannersContent').innerHTML = '';
                document.getElementById('faqContent').innerHTML = '';
            }

            showSection(sectionId) {
                this.sections.forEach(section => {
                    section.classList.remove('active');
                });
                
                this.navButtons.forEach(btn => {
                    btn.classList.remove('active');
                });

                document.getElementById(sectionId).classList.add('active');
                document.querySelector(`[data-section="${sectionId}"]`).classList.add('active');
            }
        }

        // アプリケーション初期化
        document.addEventListener('DOMContentLoaded', () => {
            new TournamentApp();
        });
    </script>
</body>
</html>
